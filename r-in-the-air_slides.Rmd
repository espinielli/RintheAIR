---
title: "R in the Air"
subtitle: "Performance Review for (European) Aviation"
author: Enrico Spinielli
institute: "EUROCONTROL</br><small>The European Organisation for the Safety of Air Navigation<small>"
date: "$\\mathrm{11^{th}}$ Jul 2019<span id='update-date'>(updated: `r format(Sys.time(), '%a %b %d %Y @  %X')`)</span>"
output:
  xaringan::moon_reader:
    css: ["default", "r-in-the-air_slides.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

background-image: url(./figures/04012018-firuir-lower-airspace-ectl.png)
background-size: cover
class: center, middle


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

suppressPackageStartupMessages(library(ggwordcloud))
suppressPackageStartupMessages(library(magrittr))
suppressPackageStartupMessages(library(dplyr))

data("thankyou_words_small")
set.seed(1187)



subchunkify <- function(g, fig_height=7, fig_width=5) {
  g_deparsed <- paste0(deparse(
    function() {g}
  ), collapse = '')
  
  sub_chunk <- paste0("
  `","``{r sub_chunk_", floor(runif(1) * 10000), ", fig.height=", fig_height, ", fig.width=", fig_width, ", echo=FALSE}",
  "\n(", 
    g_deparsed
    , ")()",
  "\n`","``
  ")
  
  cat(knitr::knit(text = knitr::knit_expand(text = sub_chunk), quiet = TRUE))
}
```


---
# Trajectories

* 43 States
    - from Atlantic Ocean till Black Sea
    - from Norway to Morocco
* 32,000 Flights per day (May 2019)
* 4,27 Million flights in the last 12 months
* 20 years of civil flights in Europe

* statistical analysis via performance indicators in order to highlight best practices

---
background-image: url(figures/reproducible-research-spectrum.png)
background-size: 85%
background-position: 65% 90%

# PRU Portal

* data dissemination
* methodology
* attempt to move towards reproducibility
* built with `blogdown`, served by [Netlify](https://ansperformance.eu),
  hosted on [GitHub](https://github.com/euctrl-pru/portal)



---

# Packaging
* nvctr

---
class: center, middle

```{r, eval=TRUE,echo=FALSE,warning=FALSE,error=FALSE}
g <- thankyou_words_small %>% 
  mutate(speakers = ifelse(iso_639_3 == "eng", 1500, speakers)) %>% 
  ggplot(aes(label = word, size = speakers)) +
  geom_text_wordcloud() +
  scale_size_area(max_size = 30) +
  theme_minimal()

g
#subchunkify(g, 7, 7)
```


